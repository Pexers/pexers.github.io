<!doctype html>
<html lang="{{ site.lang | default: 'en-US' }}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    {% seo %}

    <!-- Preload critical resources -->
    <link rel="preload" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"
        as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Legacy browser support -->
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="{{ '/assets/css/ie.css' | relative_url }}">
    <![endif]-->

    {% include head-custom.html %}
</head>

<body>
    <!-- Skip to main content link for accessibility -->
    <a class="skip-link" href="#main-content">Skip to main content</a>

    <!-- Hamburger Menu Button -->
    <button class="hamburger-menu" id="hamburger-toggle" aria-label="Toggle navigation menu" aria-expanded="false"
        aria-controls="sidebar">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </button>

    <!-- Sidebar overlay for mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay" aria-hidden="true" role="presentation"></div>

    <div class="layout-container">
        <!-- Left Sidebar -->
        <aside class="sidebar" id="sidebar" role="navigation" aria-label="Main navigation">
            <div class="sidebar-content">
                <!-- GitHub Profile Section -->
                <header class="sidebar-header">
                    <div class="github-profile">
                        <a href="https://github.com/{{ site.github_username | default: 'github' }}" target="_blank"
                            rel="noopener noreferrer" class="github-avatar-link"
                            aria-label="View {{ site.github_username | default: 'GitHub' }} profile">
                            <img src="https://github.com/{{ site.github_username | default: 'github' }}.png"
                                alt="{{ site.github_username | default: 'GitHub' }} avatar" class="github-avatar"
                                loading="lazy" width="80" height="80">
                        </a>
                        <h2 class="github-username">{{ site.github_username | default: "username" }}</h2>
                    </div>
                </header>

                <!-- Navigation Menu -->
                <nav class="sidebar-nav" role="navigation" aria-label="Site navigation">
                    <ul>
                        {%- assign sorted_menus = site.menus | sort: 'order' -%}
                        {%- for menu in sorted_menus -%}
                        <li>
                            <a href="{{ menu.url | relative_url }}" class="nav-link" {% if page.url==menu.url
                                %}aria-current="page" {% endif %}>
                                <i class="{{ menu.icon }}" aria-hidden="true"></i>
                                <span>{{ menu.title }}</span>
                            </a>
                        </li>
                        {%- endfor -%}
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content" id="main-content" role="main">
            <article class="content-wrapper">
                <header class="page-header">
                    <h1 class="page-title">{{ page.title | default: site.title | default: site.github.repository_name }}
                    </h1>
                    {% if page.description %}
                    <p class="page-description">{{ page.description }}</p>
                    {% else %}
                    <p class="page-description">{{ site.tagline | default: site.description | default:
                        site.github.project_tagline }}</p>
                    {% endif %}
                </header>

                <div class="page-content">
                    {{ content }}
                </div>
            </article>
        </main>
    </div>

    <!-- Load JavaScript at the end for better performance -->
    <script src="{{ '/assets/js/main.js' | relative_url }}" defer></script>
</body>

</html>